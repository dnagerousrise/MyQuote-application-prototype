<!-- Home page that show recent quotes that are public in descending order-->
<h1 class="mb-4">Recent Quotes</h1>

<% @quotes.each do |quote| %>
  <div class="quote-card mb-4 p-4 border rounded shadow-sm bg-light position-relative">

    <!-- Author and categories -->
    <div class="mb-2">
      <h5 class="mb-1 text-primary"><%= "#{quote.user.fname} #{quote.user.lname}" %></h5>
      <% if quote.categories.any? %>
        <small class="text-muted">
          Categories:
          <%= quote.categories.map(&:name).join(", ") %>
        </small>
      <% else %>
        <small class="text-muted">No categories assigned</small>
      <% end %>
  </div>

    <!-- Quote text -->
    <blockquote class="blockquote mt-3">
      <p class="mb-0 fs-5 fst-italic text-dark">“<%= quote.quote_text %>”</p>
    </blockquote>

    <!-- Publish year -->
    <% if quote.pub_year.present? %>
      <div class="mt-2 text-muted" style="font-size: 0.9rem;">
        Published: <%= quote.pub_year %>
      </div>
    <% end %>
    <!--For more info about the quote-->
    <div class="mt-3">
      <%= link_to "Show this quote", quote_path(quote), class: "btn btn-sm btn-outline-secondary" %>
    </div>

  </div>
<% end %>
